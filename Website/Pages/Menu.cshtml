@page
@using DinoDiner.Menu;
@model Website.Pages.MenuModel
@{
    ViewData["Title"] = "Menu";
}


<h1>Menu</h1>

<div class="content">
    <div id="results">
        @if (Model.AvailableCombos.Count > 0)
        {
            <div id="combos" class="menu-class">
                <h2>Combos</h2>

                @for (int i = 0; i < Model.AvailableCombos.Count; i++)
                {
                    <div class="menu-item">
                        <h3>@Model.AvailableCombos[i].ToString()</h3>
                        <ul>
                            <li>Price: $@Model.AvailableCombos[i].Price</li>
                            <li>Calories: @Model.AvailableCombos[i].Calories</li>
                            <li>Ingredients: @string.Join(", ", Model.AvailableCombos[i].Ingredients)</li>
                            <li>Drink: @Model.AvailableCombos[i].Drink.ToString()</li>
                            <li>Side: @Model.AvailableCombos[i].Side.ToString()</li>
                        </ul>
                    </div>
                }
            </div>
        }

        @if (Model.AvailableEntrees.Count > 0)
        {
            <div id="entrees" class="menu-class">
                <h2>Entrees</h2>
                @for (int i = 0; i < Model.AvailableEntrees.Count; i++)
                {
                    <div class="menu-item">
                        <h3>@Model.AvailableEntrees[i].ToString()</h3>
                        <ul>
                            <li>$@Model.AvailableEntrees[i].Price</li>
                            <li>Calories: @Model.AvailableEntrees[i].Calories</li>
                            <li>Ingredients: @string.Join(", ", Model.AvailableEntrees[i].Ingredients)</li>
                        </ul>
                    </div>
                }
            </div>
        }

        @if (Model.AvailableSides.Count > 0)
        {
            <div id="sides" class="menu-class">
                <h2>Sides</h2>
                @for (int i = 0; i < Model.AvailableSides.Count; i++)
                {
                    <div class="menu-item">
                        <h3>@Model.AvailableSides[i].ToString()</h3>
                        <ul>
                            <li>$@Model.AvailableSides[i].Price</li>
                            <li>Calories: @Model.AvailableSides[i].Calories</li>
                            <li>Ingredients: @string.Join(", ", Model.AvailableSides[i].Ingredients)</li>
                        </ul>
                    </div>
                }
            </div>
        }

        @if (Model.AvailableDrinks.Count > 0)
        {
            <div id="drinks" class="menu-class">
                <h2>Drinks</h2>
                @for (int i = 0; i < Model.AvailableDrinks.Count; i++)
                {
                    <div class="menu-item">
                        <h3>@Model.AvailableDrinks[i].ToString()</h3>
                        <ul>
                            <li>$@Model.AvailableDrinks[i].Price</li>
                            <li>Calories: @Model.AvailableDrinks[i].Calories</li>
                            <li>Ingredients: @string.Join(", ", Model.AvailableDrinks[i].Ingredients)</li>
                        </ul>
                    </div>
                }
            </div>
        }

    </div>

   


    <form method="post">
        <h4>Search</h4>
        <input type="text" id="search" name="search" value="@Model.search" />
        <input type="submit" value="Apply Filter(s)" />

        <h4>Search & Filter Menu Category</h4>
        <div class="menu-category-list">
            <label>
                <input type="checkbox" class="menu-category" value="Combo" name="menuCategory"
                       checked="@Model.menuCategory.Contains("Combo")" />
                Combo
            </label>
            <label>
                <input type="checkbox" class="menu-category" value="Entree" name="menuCategory"
                       checked="@Model.menuCategory.Contains("Entree")" />
                Entree
            </label>
            <label>
                <input type="checkbox" class="menu-category" value="Side" name="menuCategory"
                       checked="@Model.menuCategory.Contains("Side")" />
                Side
            </label>
            <label>
                <input type="checkbox" class="menu-category" value="Drink" name="menuCategory"
                       checked="@Model.menuCategory.Contains("Drink")" />
                Drink
            </label>
        </div>

        <h4>Filter by Price</h4>
        <div>
            
            Min <input type="number" name="minPrice" class="price" id="minimum-price" value="@Model.minPrice" /><br />
            Max <input type="number" name="maxPrice" class="price" id="maximum-price" value="@Model.maxPrice" /><br />
        </div>

        <h4>Exclude Ingredients</h4>
        <div class="ingredient-list">
            @foreach (string ingredient in @Model.Menu.PossibleIngredients)
            {
                <label>
                    <input type="checkbox" class="exclude-ingredients" value="@ingredient" name="ingredient"
                           checked="@Model.ingredient.Contains(ingredient)" />
                    @ingredient
                </label>
            }
        </div>
    </form>
</div>


